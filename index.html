<!DOCTYPE html>
<html lang="pl">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>Power Management</title>
	<link href="./cssConcept/fonts.css" rel="stylesheet" type="text/css"/>
	<link href="./cssConcept/index.css" rel="stylesheet" type="text/css"/>
	<link href="./cssConcept/system.css" rel="stylesheet" type="text/css"/>
	<link href="./cssConcept/systemPreview.css" rel="stylesheet" type="text/css"/>
	<link href="./cssConcept/files.css" rel="stylesheet" type="text/css"/>
	<link href="./cssConcept/usedDevices.css" rel="stylesheet" type="text/css"/>
	<link href='https://fonts.googleapis.com/css?family=Spartan' rel='stylesheet'/>
</head>

<body id="body">
	<header id="top">
		<div id="configuratorInfo">
			<h2 id="configuratorTitle">Konfigurator Systemu <span><span>Teta</span> Gas</span></h2>
			<p id="configuratorDescription">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam porta acelitquis rutrum.</p>
		</div>
		<div class="configuratorLogo">
			<img alt="Configurator logo image" id="configuratorLogoImage" src="./Icons/agLogo.png" />
			<div id="configuratorLanguage">
				<a href="/?lang=PL" class="langLink">PL</a>/
				<a href="/?lang=EN" class="langLink">EN</a>
			</div>
		</div>
	</header>
	<div class="configuratorPanel panelContainer">
		<div class="panelHeaderContainer">
			<h3>Dane podstawowe</h3>
		</div>
		<div class="contentContainer">
			<div class="formContainer">
				<form class="form">
					<div class="detectorAmounts">
						<label for="amountOfDetectors" class="detectorAmountsLabel">Ilość czujników</label>
						<div class="detectorAmountsInputContainer">
							<input type="number" min="1" max="50" value="1" id="amountOfDetectors" class="detectorAmountsInput" name="amountOfDetectors"/>szt.
							<span class="shadedAmount">(max 50 szt.)</span>
						</div>
					</div>
					<span data-text="Wybierz rodzaj obiektu, dla jakiego będą zastosowane urządzenia" class="buildingInformation tooltip">i</span>
					<div class="buildingType">
						<label for="structureType" class="structureLabel">Rodzaj obiektu</label>
						<div id="structureSelectForm" class="structureSelect formSelectInput">
							<select id="structureType" name="structureType"></select>
						</div>
					</div>
					<span data-text="Wybierz rodzaj gazu, jaki ma być wykrywany. W późniejszych krokach będziesz mieć możliwość wyboru gazu dla każdego z czujników" class="detectedGasInformation tooltip">i</span>
					<div class="detectedGas">
						<label for="gasDetected" class="detectedGasLabel">Wykrywany gaz</label>
						<div id="gasSelectForm" class="gasSelect formSelectInput">
							<select id="gasDetected" name="gasDetected"></select>
						</div>
					</div>
					<span data-text="Czy system ma mieć możliwość czasowego zasilania na wypadek braku zasilania zewnętrznego?" class="batteryBackUpInformation tooltip">i</span>
					<div class="batteryBackUp">
						<label for="batteryBackUp" class="batteryBackUpLabel">Akumulatorowe podtrzymanie pracy</label>
						<div id="batterySelectFormBtn" class="batteryBackUpSelect formSelectInput">
							<select id="batteryBackUp" name="batteryBackUp"></select>
						</div>
					</div>
					<span data-text="Wpisz orientacyjną odległość między kolejnymi czujnikami na magistrali" class="wireLengthInformation tooltip">i</span>
					<div class="wireLength">
						<label for="EWL" class="wireLengthLabel">Orientacyjna odległość między urządzeniami</label>
						<div class="wireLengthInputContainer">
							<input min="1" max="999" value="15" type="number" class="wireLengthInput" id="EWL" name="EWL"/>m
						</div>
					</div>
					<button class="formButton">Zatwierdź <span>▶</span></button>
				</form>
			</div>
			<div class="descriptionContainer">
				<ol>
					<li>Wprowadź podstawowe dane dotyczące Twojego systemu.</li>
					<li>W następnym kroku będzie możliwość modyfikowania wprowadzonych danych oraz dodanie sygnalizatorów czy zaworów.</li>
					<li>Na końcu system dobierze optymalny przekrój kabla dla systemu oraz umożliwi zarówno zapis jak i wygenerowanie zestawienia urządzeń z kodami PW.</li>
				</ol>
				<div class="descriptionAboutContainer">
					<p>Konfigurator prezentuje system na podstawie konfigurowalnych segmentów zawierających urządzenia.
						Aktualnie możliwe jest dodanie 50 segmentów do systemu — np. 40 segmentów zawierających
						czujniki gazu oraz 10 segmentów zawierających sygnalizatory.</p>
					<br>
					<p class="moreInf">Więcej informacji znajdziecie Państwo w dokumencie
						<a href="http://doc.atestgaz.pl/AG/POD/POD-047-PLWydruk.pdf" class="tetaGasGuidance">Przewodnik Systemu TetaGas</a>.</p>
				</div>
			</div>
		</div>
	</div>
	<div class="dragAndDropPanel panelContainer">
		<div
			id="dragNDropArea"
			class="dragAndDropArea"
			ondrop="handleDropFile(event);"
			ondragover="handleDragOver(event);"
			>Upuść plik tutaj, by wczytać wcześniej zapisany system</div>
		<label class="formButton" for="readFileInput">Wczytaj plik  <span>▶</span></label>
		<input class="formButton" id="readFileInput" type="file" accept=".json" onchange="handleInputLoadFile(event);"/>
	</div>
	<div class="system" id="system">
		<div class="systemStatus panelContainer">
			<div class="panelHeaderContainer">
				<h3>Stan systemu</h3>
			</div>
			<div class="systemStatusContainer">
				<div class="panelContentContainer">
					<div class="detectorsContainer">
						<h4 class="detectorsListHeader">Czujniki gazu</h4>
						<ol id="detectorsList" class="detectorsList"></ol>
					</div>
					<div class="signallersContainer">
						<h4 class="signallerListHeader">Sygnalizatory</h4>
						<ol id="signallersList" class="signallersList"></ol>
					</div>
					<div class="accessoriesContainer">
						<h4 class="accessoriesListHeader">Akcesoria</h4>
						<ol id="accessoriesList" class="accessoriesList"></ol>
					</div>
					<div class="controlUnitContainer">
						<h4 class="controlUnitHeader">Jednostka sterująca i zasilanie</h4>
						<ol id="controlUnitList" class="controlUnitList">
							<li>
								<div>Długość magistrali</div>
								<div><span id="busLength">399</span>m</div>
							</li>
							<li>
								<div>Pobór mocy</div>
								<div><span id="powerConsumption">150</span>W</div>
							</li>
						</ol>
					</div>
				</div>
				<div class="powerSupplyContainer">
					<ol class="powerSupplyList">
						<li>
							<div>Teta Control 1-S24</div>
							<div><span id="powerSupply">230/24 60 W</span>zas.</div>
						</li>
						<li>
							<div>Przekrój kabla</div>
							<div><span id="wireCrossSection">2x1</span>mm<sup>2</sup></div>
						</li>
					</ol>
					<div class="systemStatusStateContainer">
						<div class="systemStatusState">Status systemu</div>
						<div class="systemStatusActionsContainer">
							<button id="systemOutput" class="systemOutput">OK</button>
							<button id="optimizeSystem" class="optimizeSystem">Optymalizuj</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="systemPreview panelContainer">
			<div class="systemGraphics">
				<div class="panelHeaderContainer">
					<h3>Podgląd systemu</h3>
				</div>
				<div class="systemPreviewControlUnit">
					<img src="./SVG/controlUnit.svg" alt="Control unit image"/>
				</div>
				<div id="systemDiagram" class="systemDiagram"></div>
			</div>
			<div class="systemActions">
				<div class="panelHeaderContainer">
					<h3 class="systemHeader">Działania</h3>
				</div>
				<div id="actionsList" class="actionsList"></div>
			</div>
		</div>
		<div class="wrapper">
			<div class="systemFiles panelContainer">
				<div class="panelHeaderContainer">
					<h3>Plik</h3>
				</div>
				<div class="panelContentContainer">
					<div class="saveSystem fileButton">
						<img src="./SVG/save.svg" alt="Export to CSV">
						<button id="exportToCSV">Zapisz system</button>
					</div>
					<div class="setOfDevices fileButton">
						<img src="./SVG/save.svg" alt="Export to JSON">
						<button id="exportToJSON">Pobierz zestawienie urządzeń</button>
					</div>
				</div>
			</div>
			<div class="usedDevices panelContainer">
				<div class="panelHeaderContainer">
					<h3>Zastosowane urządzenia</h3>
				</div>
				<div id="usedDevicesContainer" class="panelContentContainer"></div>
			</div>
		</div>
	</div>

	<script src="./AnalysisEngine/models.js"></script>
	<script src="js/index.js" type="text/javascript"></script>
	<script src="js/helpers.js" type="text/javascript"></script>
	<script src="js/form.js" type="text/javascript"></script>
	<script src="js/system.js" type="text/javascript"></script>
	<script src="js/file.js" type="text/javascript"></script>
</body>

</html>